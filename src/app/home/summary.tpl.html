<header>
    <h1 title="{{ LSPage.heading }}">{{ LSPage.heading }}</h1>
    <!-- NEW ENCOUNTER BUTTON -->
    <div class="actions">
        <button type="button" data-toggle="dropdown">{{ LS.common.actions }} <span class="caret"></span></button>
        <ul class="dropdown-menu" role="menu">
            <li ng-repeat="item in encounterActions | orderBy: 'name'"><a>{{ LS.common._new }} {{ item.name }}</a></li>
        </ul>
    </div>
</header>

<ul class="entity-list">
    <!-- INCOMPLETE VARIABLE GROUPS -->
    <li ng-repeat="item in incompleteSummaries" variablegroupid="{{item.variableGroupIdNumber}}">
        <a href="#/variablegroups/update/{{item.id}}//" class="entity">
            <!-- NAME -->
            <div class="name">{{ item.name }}</div>

            <!-- PERCENT COMPLETE -->
            <div class="percent-complete">
                <div ng-class="{ incomplete: item.percentComplete < .9999, complete: item.percentComplete > .9999 }">{{(item.percentComplete*100) | number:1}}%</div>
            </div>
        </a>
    </li>

    <!-- INCOMPLETE ENCOUNTERS -->
    <li ng-repeat="item in encounters | orderBy:'dueDate':true | filter: incompleteSubjectEncounters">
        <a href="#/encounters/view/{{item.intervalId}}/{{item.encounterId}}" class="entity encounter">
            <!-- NAME -->
            <div class="name">{{ item.name }}</div>

            <div class="due-date hidden-xs">due {{ item.dueDate | stringDate }}</div>

            <!-- PERCENT COMPLETE -->
            <div class="percent-complete">
                <div class="{{item.dataCompletionStatus.toLowerCase()}}">{{item.percentComplete*100 | number:1}}%</div>
            </div>
        </a>
    </li>
</ul>
