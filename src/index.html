<!DOCTYPE html>
<html ng-app="stx" ng-controller="ApplicationController">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title ng-bind="pageTitle"></title>
    <script>
        var APPLICATION_PATH = '<%= applicationPath %>';
        var PORTAL_CODE = '<%= portalCode %>';
        var StudyTraxConfig = {
            datePattern: 'M/d/yyyy'
        };
    </script>

    <!-- font awesome from BootstrapCDN -->
    <!--<link href="http://netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">-->
    <!--<link href="http://netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">-->

    <!-- compiled CSS --><% styles.forEach( function ( file ) { %>
    <link rel="stylesheet" type="text/css" href="<%= file %>"/>
    <% }); %>

    <!--[if lt IE 9]>
    <!--<meta http-equiv="X-UA-Compatible" content="IE=edge">-->
    <!--<script src="vendor/bootstrap/assets/js/html5shiv.js"></script>-->
    <!--<script src="vendor/bootstrap/assets/js/respond.min.js"></script>-->
    <![endif]-->

    <!-- compiled JavaScript --><% scripts.forEach( function ( file ) { %>

    <script type="text/javascript" src="<%= file %>"></script>
    <% }); %>

    <link href='<%= applicationPath %>Content/themes/base/jquery-ui.css' rel='stylesheet' type='text/css'/>
    <link href='<%= applicationPath %>_content/css/VariablePanel.css' rel='stylesheet' type='text/css'/>
    <script src='<%= applicationPath %>_content/js/st.utils.js' type='text/javascript'></script>
    <script src='<%= applicationPath %>_content/js/stx.js' type='text/javascript'></script>
    <script src='<%= applicationPath %>_content/js/stx.Dialog.js' type='text/javascript'></script>
    <script src='<%= applicationPath %>_content/js/stx.PopupDialog.js' type='text/javascript'></script>
    <script src='<%= applicationPath %>_content/js/stx.Business.Utils.js' type='text/javascript'></script>
    <script src='<%= applicationPath %>_content/js/stx.VariableMetaData.js' type='text/javascript'></script>
    <script src='<%= applicationPath %>_content/js/stx.VariablePanel.Calculation.js' type='text/javascript'></script>
    <script src='<%= applicationPath %>_content/js/stx.VariablePanel.Calculator.js' type='text/javascript'></script>
    <script src='<%= applicationPath %>_content/js/stx.VariablePanel.ContextMenu.js' type='text/javascript'></script>
    <script src='<%= applicationPath %>_content/js/stx.VariablePanel.ControlFunctions.js' type='text/javascript'></script>
    <script src='<%= applicationPath %>_content/js/stx.VariablePanel.Controller.js' type='text/javascript'></script>
    <script src='<%= applicationPath %>_content/js/stx.VariablePanel.Utils.js' type='text/javascript'></script>
    <script src='<%= applicationPath %>_content/js/stx.VariablePanel.UIAdapters.js' type='text/javascript'></script>
    <script src='<%= applicationPath %>_content/js/stx.VariablePanel.UIAdapters.js' type='text/javascript'></script>
    <script src='<%= applicationPath %>_content/js/stx.VariablePanel.VisualAnalogScale.js' type='text/javascript'></script>
    <script src='<%= applicationPath %>_content/js/stx.VariablePanel.Validation.js' type='text/javascript'></script>
    <script src='<%= applicationPath %>_content/js/stx.VariablePanel.Variable.js' type='text/javascript'></script>
    <script src='<%= applicationPath %>Areas/app/Scripts/stx/core.js' type='text/javascript'></script>
    <script src='<%= applicationPath %>Areas/app/Scripts/stx/stx.constants.js' type='text/javascript'></script>
</head>
<body class="studytrax">
    <!-- SESSION EXPIRATION DIALOG -->
    <div id="sessionExpirationDialog" class="modal fade" tabindex="-1" data-keyboard="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-body text-center">
                    {{ LS.common.sessionExpirationWarning }}
                    <h3>{{ $root.session.remainingSeconds | timeInterval }}</h3>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal">{{ LS.common.renew }}</button>
                </div>
            </div>
        </div>
    </div>

    <!-- MENU PANEL -->
    <div ui-view="menu"></div>

    <!-- ERROR PANEL -->
    <div class="container" ng-include src="'common/error-panel.tpl.html'"></div>

    <!-- LOADING PANEL -->
    <div ng-include src="'common/loading.tpl.html'" ng-hide="pageReady"></div>

    <!-- VIEW PANEL -->
    <div ui-view="content" class="page"></div>

    <!-- SCREENING PANES -->
    <div class="hide">
        <div id="failedEnrollment" >#INCLUDE(failedEnrollmentMessage)</div>
        <div id="anonymousSurveyCompleteMessage" >#INCLUDE(anonymousSurveyCompleteMessage)</div>
        <div id="message_accountInstructions" >#INCLUDE(message_accountInstructions)</div>
        <div id="message_homeInstructions" >#INCLUDE(message_homeInstructions)</div>
        <div id="message_registerInstructions">#INCLUDE(message_registerInstructions)</div>
    </div>
    <style>
        <% if (typeof debug != 'undefined' && debug) { %>
            /* PLACE CUSTOM CSS NOT TO BE DISTRIBUTED AS PART OF THE PORTAL HERE */

            .register-button,
            .enroll-button,
            #attributeCreated,
            #attributeEditUntil {
                display: none;
            }
        <% } %>
    </style>
    <script>
        LS = String.LS;
        <% if (typeof debug != 'undefined' && debug) { %>
            // PLACE CUSTOM JS NOT TO BE DISTRIBUTED AS PART OF THE PORTAL HERE
            LS.portalName = "The <span class='registry-text'>Registry</span>";
            LS.pages.home.index.heading = "Your Homepage";
            LS.pages.home.index.incomplete = "Share Info";
            LS.pages.home.index.reports = "For your Review";
            LS.pages.home.index.recentlyCompleted = "Prior Surveys";

            LS.pages.encounters.view.attributes = "Survey Info";
            LS.pages.encounters.view.forms = "Sections to Complete";
            LS.pages.encounters.view.reports = "For your Review";

            LS.pages.accounts.view.attributes = "Registry Account Details";
            LS.pages.accounts.view.background = "Key Info & Milestones";
        <% } else { %>
            #INCLUDE(js_overrides)
        <% } %>
    </script>
</body>
</html>
